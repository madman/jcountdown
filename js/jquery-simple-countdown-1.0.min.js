(function(e){e.fn.countdown=function(t,n){if(e.isFunction(t)){n=t;t={}}var r={data:"time",flag:"countdown",callback:"callback"};var i=e.extend({},r,t);var s=function(e){var t=Math.floor(e/3600),n=Math.floor(e/60)-Math.floor(e/3600)*60,r=e%60;if(t<10){t="0"+t}if(n<10){n="0"+n}if(r<10){r="0"+r}return t+":"+n+":"+r};var o=function(t){var n,r=parseInt(t.data(i.data));t.text(s(r));if(r>0){t.data(i.data,r-1);setTimeout(function(){o(t)},1e3)}else if(n=t.data(i.callback)){if(e.isFunction(n)){n.call(null,t)}}};return this.each(function(){var t=e(this);if(!t.data(i.flag)){t.data(i.flag,true);t.data(i.callback,n);o(t)}})}})(jQuery)